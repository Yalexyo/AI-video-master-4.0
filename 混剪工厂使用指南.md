# 🧪 混剪工厂使用指南

## 📋 概述

混剪工厂是一个智能视频片段映射与合成工具，专为母婴奶粉种草短片设计。通过AI算法和标杆视频标注，自动生成高质量的营销视频。

## 🚀 主要功能

### 1. **标杆视频SRT文件自动检测**
- ✅ 自动扫描 `data/input/test_videos/` 目录下的SRT文件
- ✅ 自动解析SRT内容并加载到系统中
- ✅ 无需手动上传，系统启动时自动检测

### 2. **标杆视频模块划分功能**
- 📝 对标杆视频的语音内容进行精确标注
- 🎯 支持四大模块：痛点、解决方案、卖点、促销
- 🛠️ 提供批量标注工具和详细标注界面
- 💾 支持标注数据保存和导出

### 3. **两种混剪策略**
- **📋 SRT标注模式**: 基于标杆视频标注的精确时长控制
- **🧠 算法优化模式**: AI智能片段筛选和质量评估

## 📖 使用步骤

### 第一步：准备标杆视频SRT文件

1. **上传SRT文件**
   ```
   将标杆视频的SRT字幕文件放入：
   data/input/test_videos/your_video.srt
   ```

2. **系统自动检测**
   - 进入混剪工厂页面
   - 系统会自动检测并加载第一个找到的SRT文件
   - 加载成功后显示：`✅ 成功加载标杆视频SRT文件`

### 第二步：标杆视频模块划分

1. **选择SRT标注模式**
   - 在"步骤1: 片段匹配策略"标签页中
   - 点击"🎬 选择SRT标注模式"按钮

2. **进行模块标注**
   
   **批量标注工具：**
   - 选择模块类型（痛点/解决方案/卖点/促销）
   - 设置起始和结束条目编号
   - 点击"🎯 批量标注"快速标注

   **详细标注界面：**
   - 逐条查看SRT条目的时间戳和内容
   - 为每个条目选择对应的模块类型
   - 实时显示标注进度和已标注时长

3. **保存和导出**
   - 点击"💾 保存标注"保存标注数据
   - 点击"📤 导出SRT"下载带标注的SRT文件

### 第三步：策略配置

1. **SRT标注模式配置**
   - 系统会自动计算基于标注的目标时长
   - 显示各模块的时长分布比例
   - 支持微调目标时长

2. **算法优化模式配置**
   - 手动设置目标时长
   - 配置各模块的时长比例
   - 调整质量权重参数

### 第四步：视频合成

1. **设置输出质量**
   - 选择分辨率（高清1080p/标清720p等）
   - 配置码率和帧率参数

2. **开始合成**
   - 点击"🎬 开始视频合成"
   - 系统会根据策略自动选择和组合视频片段
   - 生成最终的营销视频

## 🎯 模块划分标准

### 痛点模块 🔴
- 描述目标群体面临的问题
- 突出痛点的严重性和普遍性
- 例：宝宝免疫力差、容易生病

### 解决方案模块 🟢  
- 介绍产品如何解决痛点
- 强调科学依据和技术优势
- 例：HMO成分提升自护力

### 卖点模块 🟡
- 突出产品的独特优势
- 对比竞品的差异化特色
- 例：接近母乳、营养全面

### 促销模块 🟠
- 购买引导和优惠信息
- 限时活动和特价信息
- 例：现在购买享受优惠

## 📊 功能特色

### 🎯 精确时长控制
- 基于标杆视频标注自动计算时长比例
- 确保营销视频结构与标杆视频一致
- 支持微调和个性化调整

### 🤖 AI智能优化
- 质量评估算法自动筛选最佳片段
- 语义匹配确保内容一致性
- 多维度评分系统保证视频质量

### 💾 数据持久化
- 标注数据自动保存到本地
- 支持多个标杆视频的标注管理
- 标注历史可追溯和恢复

### 🔄 批量处理
- 批量标注工具提高效率
- 支持多文件同时处理
- 标准化的标注流程

## 🛠️ 故障排除

### SRT文件无法加载
1. 检查文件是否放在正确目录：`data/input/test_videos/`
2. 确认文件格式为标准SRT格式
3. 检查文件编码是否为UTF-8

### 标注数据丢失
1. 点击"💾 保存标注"手动保存
2. 检查 `data/annotations/` 目录下的备份文件
3. 重新进入页面会自动加载已保存的标注

### 视频合成失败
1. 确保已完成模块标注
2. 检查视频片段库是否完整
3. 验证目标时长设置是否合理

## 📈 最佳实践

### 标注建议
- **完整标注**: 确保所有SRT条目都进行了标注
- **均衡分布**: 各模块时长保持合理比例
- **语义准确**: 根据实际内容进行精确标注

### 时长设置
- **痛点**: 25-30% (建立共鸣)
- **解决方案**: 35-40% (核心内容)
- **卖点**: 20-25% (差异化优势)
- **促销**: 10-15% (行动号召)

### 质量控制
- 优先使用高质量评分的片段
- 确保语义连贯性和逻辑流畅
- 定期验证合成结果质量

## 🔗 相关页面

- **🏠 主页**: 系统总览和导航
- **🧫 零件工厂**: 视频片段分析和处理
- **📊 数据看板**: 分析结果和统计信息

---

*🎯 提示：建议先在零件工厂完成视频片段分析，再使用混剪工厂进行合成，以获得最佳效果。* 